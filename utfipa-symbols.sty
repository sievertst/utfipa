\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{utfipa-symbols}[2018/10/09 UTF-8 compatible IPA implementation]

\RequirePackage{expl3}
\RequirePackage{xparse}

\ExplSyntaxOn % start expl3 syntax

%%%%%%%%%%%%%%%%%%%%%
% symbol definition %
%%%%%%%%%%%%%%%%%%%%%
% symbols %
% ------- %
\DeclareDocumentCommand\textbabygamma{}{ɤ}
\DeclareDocumentCommand\textbardotlessj{}{ɟ}
\DeclareDocumentCommand\textbeltl{}{ɬ}
\DeclareDocumentCommand\textbeltturny{}{\symbol{"F267}} % not in tipa
\DeclareDocumentCommand\textbeltscl{}{\symbol{"F268}} % not in tipa
\DeclareDocumentCommand\textbeta{}{β}
\DeclareDocumentCommand\textbari{}{ɨ}
\DeclareDocumentCommand\textbaro{}{ɵ}
\DeclareDocumentCommand\textbaru{}{ʉ}
\DeclareDocumentCommand\textbarglotstop{}{ʡ}
\DeclareDocumentCommand\textbarrevglotstop{}{ʢ}
\DeclareDocumentCommand\textbarsci{}{ᵻ}
\DeclareDocumentCommand\textbarupsilon{}{ᵿ}
\DeclareDocumentCommand\textbullseye{}{ʘ}
\DeclareDocumentCommand\textchi{}{χ}
\DeclareDocumentCommand\textcrh{}{ħ}
\DeclareDocumentCommand\textctc{}{ɕ}
\DeclareDocumentCommand\textctj{}{ʝ}
\DeclareDocumentCommand\textctz{}{ʑ}
\DeclareDocumentCommand\textcloserevepsilon{}{ɞ}
\DeclareDocumentCommand\textdentalclick{}{ǀ} % in tipa as textpipe
\DeclareDocumentCommand\textdoublebarpipe{}{ǂ}
\DeclareDocumentCommand\textalvlatclick{}{ǁ} % in tipa as textdoublepipe
% should be double pipe character by analogy with textpipe, but defined as
% alveolar lateral click in tipa
\DeclareDocumentCommand\textdoublepipe{}{‖} 
\DeclareDocumentCommand\textepsilon{}{ɛ}
\DeclareDocumentCommand\textesh{}{ʃ}
\DeclareDocumentCommand\textezh{}{ʒ} % textyogh kept for backwards compatability
\DeclareDocumentCommand\textfishhookr{}{ɾ}
\DeclareDocumentCommand\textg{}{g}
\DeclareDocumentCommand\textgamma{}{ɣ}
\DeclareDocumentCommand\textgl{}{ɡ}
\DeclareDocumentCommand\textglotstop{}{ʔ}
\DeclareDocumentCommand\texthtb{}{ɓ}
\DeclareDocumentCommand\texthtbardotlessj{}{ʄ}
\DeclareDocumentCommand\texthtd{}{ɗ}
\DeclareDocumentCommand\texthtg{}{ɠ}
\DeclareDocumentCommand\texthth{}{ɦ}
\DeclareDocumentCommand\texththeng{}{ɧ}
\DeclareDocumentCommand\texthtscg{}{ʛ}
\DeclareDocumentCommand\textinvscr{}{ʁ}
% textlyoghlig kept for backwards compatability
\DeclareDocumentCommand\textlezhlig{}{ɮ} 
\DeclareDocumentCommand\textlslig{}{ʪ} % not in tipa
\DeclareDocumentCommand\textltailm{}{ɱ}
\DeclareDocumentCommand\textltailn{}{ɲ}
\DeclareDocumentCommand\textltilde{}{ɫ}
% kept for backwards compatability
\DeclareDocumentCommand\textlyoghlig{}{\textlezhlig} 
\DeclareDocumentCommand\textlzlig{}{ʫ} % not in tipa
\DeclareDocumentCommand\textopeno{}{ɔ}
\DeclareDocumentCommand\textphi{}{ɸ}
% should be pipe character but redefined to dental click in tipa
\DeclareDocumentCommand\textpipe{}{|} 
\DeclareDocumentCommand\textramshorns{}{ɤ}
\DeclareDocumentCommand\textreve{}{ɘ}
\DeclareDocumentCommand\textrevepsilon{}{ɜ}
\DeclareDocumentCommand\textrevglotstop{}{ʕ}
\DeclareDocumentCommand\textrhookrevepsilon{}{ɝ}
\DeclareDocumentCommand\textrhookschwa{}{ɚ}
\DeclareDocumentCommand\textrtaild{}{ɖ}
\DeclareDocumentCommand\textrtaill{}{ɭ}
\DeclareDocumentCommand\textrtailn{}{ɳ}
\DeclareDocumentCommand\textrtailr{}{ɽ}
\DeclareDocumentCommand\textrtails{}{ʂ}
\DeclareDocumentCommand\textrtailt{}{ʈ}
\DeclareDocumentCommand\textrtailz{}{ʐ}
\DeclareDocumentCommand\textscripta{}{ɑ}
\DeclareDocumentCommand\textscriptv{}{ʋ}
\DeclareDocumentCommand\textscb{}{ʙ}
\DeclareDocumentCommand\textscg{}{ɢ}
\DeclareDocumentCommand\textsch{}{ʜ}
\DeclareDocumentCommand\textsci{}{ɪ}
\DeclareDocumentCommand\textscl{}{ʟ}
\DeclareDocumentCommand\textscn{}{ɴ}
\DeclareDocumentCommand\textscoe{}{ɶ}
\DeclareDocumentCommand\textscr{}{ʀ}
\DeclareDocumentCommand\textscriptg{}{ɡ}
\DeclareDocumentCommand\textscy{}{ʏ}
\DeclareDocumentCommand\textschwa{}{ə}
\DeclareDocumentCommand\textspleftarrow{m}{#1\symbol{"20D6}}
\DeclareDocumentCommand\textsubrightarrow{m}{#1\symbol{"20EF}}
\DeclareDocumentCommand\textsubdoublearrow{m}{#1\symbol{"034D}}
\DeclareDocumentCommand\texttheta{}{θ}
\DeclareDocumentCommand\textturnscripta{}{ɒ}
\DeclareDocumentCommand\textturna{}{ɐ}
\DeclareDocumentCommand\textturnh{}{ɥ}
\DeclareDocumentCommand\textturnv{}{ʌ}
\DeclareDocumentCommand\textturnlonglegr{}{ɺ}
\DeclareDocumentCommand\textturnlonglegrtailr{}{\symbol{"F269}} % not in tipa
\DeclareDocumentCommand\textturnm{}{ɯ}
\DeclareDocumentCommand\textturnr{}{ɹ}
\DeclareDocumentCommand\textturnrrtail{}{ɻ}
\DeclareDocumentCommand\textturnmrleg{}{ɰ}
\DeclareDocumentCommand\textturnw{}{ʍ}
\DeclareDocumentCommand\textturny{}{ʎ}
\DeclareDocumentCommand\textupsilon{}{ʊ}
\DeclareDocumentCommand\textvhook{}{ⱱ} % recent addition not in tipa
\DeclareDocumentCommand\textyogh{}{\textezh} % kept for backwards compatability

% diacritics and suprasegmentals %
% ------------------------------ %
\DeclareDocumentCommand\adv{sm}{% only individual commands in tipa
  \IfBooleanTF{#1}
  { #2\textmodplus }
  { \textsubplus{#2} }
}
\DeclareDocumentCommand\H{sm}{%
  \IfBooleanTF{#1}
  { \textdoublegrave{#2} }
  { #2\symbol{"030B} }
}
\DeclareDocumentCommand\lhalfring{sm}{% TODO
  \IfBooleanTF{#1}
  { \textoverlhalfring{#2} }
  { \textsublhalfring{#2} }
}
\DeclareDocumentCommand\r{sm}{%
  \IfBooleanTF{#1}
  { #2\symbol{"0325} }
  { #2\symbol{"030A} }
}
\NewDocumentCommand\rc{sm}{%
  \IfBooleanTF{#1}
  { \textroundcap{#2} }
  { \textsubarch{#2} }
}
\DeclareDocumentCommand\ret{sm}{% only individual commands in tipa
  \IfBooleanTF{#1}
  { #2\textmodminus }
  { \textsubminus{#2} }
}
\DeclareDocumentCommand\rhalfring{sm}{% TODO
  \IfBooleanTF{#1}
  { \textoverrhalfring{#2} }
  { \textsubrhalfring{#2} }
}
\DeclareDocumentCommand\rhoticity{}{\symbol{"02DE}} % in tipa mit \super
\NewDocumentCommand\s{sm}{%
  \IfBooleanTF{#1}
  { #2\symbol{"030D} }
  { #2\symbol{"0329} }
}
\DeclareDocumentCommand\t{sm}{% TODO
  \IfBooleanTF{#1}
  { \texttoptiebar{#2} }
  { \textbottomtiebar{#2} }
  % TODO: emulate original \t and put character between chars 1 and 2 rather
  % than -2 and -1?
}
% right tack (atr) instead of + for consistency with tipa
\DeclareDocumentCommand\textadvancing{m}{\textsubrighttack{#1}}
\DeclareDocumentCommand\textbottomtiebar{m}{
  % TODO: insert non-combining char if input empty
  \utfipa_place_before_last_in:nn {#1} {\textcombiningtiebelow}
}
\DeclareDocumentCommand\textcorner{}{\symbol{"031A}}
\DeclareDocumentCommand\textdoublegrave{m}{#1\symbol{"030F}}
\DeclareDocumentCommand\textdoublevertline{}{‖}
\DeclareDocumentCommand\textdownstep{}{ꜜ}
\DeclareDocumentCommand\textfallrise{m}{#1\symbol{"1DC9}}
\DeclareDocumentCommand\textglobfall{}{↘︎}
\DeclareDocumentCommand\textglobrise{}{↗︎}
\DeclareDocumentCommand\texthalflength{}{ˑ}
\DeclareDocumentCommand\textheng{}{ꜧ}
\DeclareDocumentCommand\texthighrise{m}{#1\symbol{"1DC4}}
% \DeclareDocumentCommand\texthmlig{}{???}
\DeclareDocumentCommand\textinvsubbridge{m}{#1\symbol{"033A}}
\DeclareDocumentCommand\textinvsubridge{m}{\textinvsubbridge{#1}}
\DeclareDocumentCommand\textlengthmark{}{ː}
\DeclareDocumentCommand\textlowering{m}{#1\symbol{"031E}}
\DeclareDocumentCommand\textlowrise{m}{#1\symbol{"1DC5}}
\DeclareDocumentCommand\textmodminus{}{\symbol{"02D7}}
\DeclareDocumentCommand\textmodplus{}{\symbol{"02D6}} % not in tipa
\DeclareDocumentCommand\textopencorner{}{\symbol{"02F9}}
\DeclareDocumentCommand\textovercross{m}{#1\symbol{"033D}} % not in tipa
\DeclareDocumentCommand\textoverlhalfring{m}{#1\symbol{"0351}} % not in tipa
\DeclareDocumentCommand\textoverrhalfring{m}{#1\symbol{"0357}} % not in tipa
% \DeclareDocumentCommand\textoverw{m}{???}
\DeclareDocumentCommand\textprimstress{}{ˈ}
\DeclareDocumentCommand\textraising{m}{#1\symbol{"031D}}
% left tack instead of - for consistency with tipa
% \DeclareDocumentCommand\textretracting{m}{\textsubltack{#1}} 
\DeclareDocumentCommand\textrisefall{m}{#1\symbol{"1DC8}}
\DeclareDocumentCommand\textringmacron{m}{\r{\={#1}}}
\DeclareDocumentCommand\textseagull{m}{#1\symbol{"033C}}
\DeclareDocumentCommand\textsecstress{}{ˌ}
\DeclareDocumentCommand\textsubarch{m}{#1\symbol{"032F}}
\DeclareDocumentCommand\textsubbar{m}{#1\symbol{"0331}}
\DeclareDocumentCommand\textsubdot{m}{#1\symbol{"0323}}
% in tipa as textretracting
\DeclareDocumentCommand\textsubltack{m}{#1\symbol{"0319}} 
\DeclareDocumentCommand\textsublhalfring{m}{#1\symbol{"031C}}
\DeclareDocumentCommand\textsubminus{m}{#1\symbol{"0320}}
\DeclareDocumentCommand\textsubrhalfring{m}{#1\symbol{"0339}}
\DeclareDocumentCommand\textsubplus{m}{#1\symbol{"031F}}
\DeclareDocumentCommand\textsubbridge{m}{#1\symbol{"032A}}
\DeclareDocumentCommand\textsubridge{m}{\textsubbridge{#1}}
\DeclareDocumentCommand\textsubring{m}{#1\symbol{"030A}}
% in tipa as textadvancing
\DeclareDocumentCommand\textsubrtack{m}{#1\symbol{"0318}} 
\DeclareDocumentCommand\textsubsquare{m}{#1\symbol{"033B}}
\DeclareDocumentCommand\textsubtilde{m}{#1\symbol{"0330}}
\DeclareDocumentCommand\textsubumlaut{m}{#1\symbol{"0324}}
\DeclareDocumentCommand\textsubw{m}{#1\symbol{"032B}}
\DeclareDocumentCommand\textsubwedge{m}{#1\symbol{"032C}}
\DeclareDocumentCommand\textsuperimposetilde{m}{#1\symbol{"0334}}
\DeclareDocumentCommand\textsyllabic{m}{#1\symbol{"0329}}
% not separately in tipa
\DeclareDocumentCommand\textcombiningtiebelow{}{\symbol{"035C}} 
% not separately in tipa
\DeclareDocumentCommand\textcombiningtieabove{}{\symbol{"0361}}
\DeclareDocumentCommand\texttoptiebar{m}{%
  \utfipa_place_before_last_in:nn {#1} {\textcombiningtieabove}
}
\DeclareDocumentCommand\textupstep{}{ꜛ}
\DeclareDocumentCommand\textvertline{}{|}
\DeclareDocumentCommand\v{sm}{%
  \IfBooleanTF{#1}
  { \textsubwedge{#2} }
  { #2\symbol{"030C} }
}
\DeclareDocumentCommand\textundertie{}{\symbol{"203F}} % not separately in tipa
\DeclareDocumentCommand\'{sm}{%
  \IfBooleanTF{#1}
  { \textsubacute{#2} }
  { #2\symbol{"0341} }
}
\DeclareDocumentCommand\`{sm}{%
  \IfBooleanTF{#1}
  { \textsubgrave{#2} }
  { #2\symbol{"0340} }
}
\DeclareDocumentCommand\^{sm}{%
  \IfBooleanTF{#1}
  { \textsubcircum{#2} }
  { #2\symbol{"0302} }
}
\DeclareDocumentCommand\~{sm}{%
  \IfBooleanTF{#1}
  { \textsubtilde{#2} }
  { #2\symbol{"0303} }
}
\DeclareDocumentCommand\"{sm}{%
  \IfBooleanTF{#1}
  { \textsubumlaut{#2} }
  { #2\symbol{"0308} }
}
\DeclareDocumentCommand\={sm}{%
  \IfBooleanTF{#1}
  { \textsubbar{#2} }
  { #2\symbol{"0304} }
}
\DeclareDocumentCommand\.{sm}{%
  \IfBooleanTF{#1}
  { \textsubdot{#2} }
  { #2\symbol{"0307} }
}

% obsolete/non-standard %
% --------------------- %
% without "text"
\DeclareDocumentCommand\bibridge{m}{#1\symbol{"032A}\symbol{"0346}}
\DeclareDocumentCommand\crtilde{m}{#1\symbol{"034A}}
\DeclareDocumentCommand\dottedtilde{m}{#1\symbol{"034B}}
\DeclareDocumentCommand\doubletilde{m}{#1\symbol{"034C}}
% \DeclareDocumentCommand\finpartvoice{m}{???}
% \DeclareDocumentCommand\finpartvoiceless{m}{???}
% \DeclareDocumentCommand\inipartvoice{m}{???}
% \DeclareDocumentCommand\inipartvoiceless{m}{???}
\DeclareDocumentCommand\overbridge{m}{#1\symbol{"0346}}
% \DeclareDocumentCommand\partvoice{m}{???}
% \DeclareDocumentCommand\partvoiceless{m}{???}
\DeclareDocumentCommand\sliding{m}{
  \utfipa_place_before_last_in:nn {#1} {\symbol{"0362}}
}
\DeclareDocumentCommand\spreadlips{m}{#1\symbol{"034D}}
\DeclareDocumentCommand\subcorner{m}{#1\symbol{"0349}}
\DeclareDocumentCommand\subdoublebar{m}{#1\symbol{"0347}}
\DeclareDocumentCommand\subdoublevert{m}{#1\symbol{"0348}}
\DeclareDocumentCommand\sublptr{}{\symbol{"02F1}}
\DeclareDocumentCommand\subrptr{}{\symbol{"02F2}}
\DeclareDocumentCommand\whistle{m}{#1\symbol{"034E}}

% texta… - textc…
\DeclareDocumentCommand\textacutemacron{m}{\'{\={#1}}}
% \DeclareDocumentCommand\textacutewedge{m}{\'{\v{#1}}}
\DeclareDocumentCommand\textaolig{}{\symbol{"A735}}
% \DeclareDocumentCommand\textbarb{}{???}
\DeclareDocumentCommand\textbarc{}{\symbol{"A793}}
\DeclareDocumentCommand\textbarl{}{ƚ}
% \DeclareDocumentCommand\textbktailgamma{}{???}
\DeclareDocumentCommand\textbrevemacron{m}{\u{\={#1}}}
% \DeclareDocumentCommand\textbard{}{???}
% \DeclareDocumentCommand\textbarg{}{???}
% textbenttailyogh kept for backwards compatability
\DeclareDocumentCommand\textbenttailezh{}{ƺ}
% kept for backwards compatability
\DeclareDocumentCommand\textbenttailyogh{}{\textbenttailezh}
\DeclareDocumentCommand\textceltpal{}{\symbol{"2032}}
\DeclareDocumentCommand\textcloseepsilon{}{ʚ}
\DeclareDocumentCommand\textcloseomega{}{ɷ}
\DeclareDocumentCommand\textcommatailz{}{ȥ}
\DeclareDocumentCommand\textcombiningthook{}{\symbol{"0322}} % not in tipa
\DeclareDocumentCommand\textcircumdot{m}{\^{\.{#1}}}
\DeclareDocumentCommand\textcrb{}{ƀ}
\DeclareDocumentCommand\textcrd{}{đ}
\DeclareDocumentCommand\textcrinvglotstop{}{ƾ}
\DeclareDocumentCommand\textcrtwo{}{ƻ}
\DeclareDocumentCommand\textcteng{}{\symbol{"AB3C}} % not in tipa
\DeclareDocumentCommand\textcrg{}{ǥ}
\DeclareDocumentCommand\textctm{}{\symbol{"AB3A}} % not in tipa
\DeclareDocumentCommand\textctn{}{\symbol{"AB3B}} % not in tipa
\DeclareDocumentCommand\textcrlambda{}{ƛ}
\DeclareDocumentCommand\textctd{}{ȡ}
% \DeclareDocumentCommand\textctdctzlig{}{}
\DeclareDocumentCommand\textctesh{}{ʆ}
% textctyogh kept for backwards compatability
\DeclareDocumentCommand\textctezh{}{ʓ} 
% \DeclareDocumentCommand\textctinvglotstop{}{???}
\DeclareDocumentCommand\textctl{}{ȴ} % not in tipa
\DeclareDocumentCommand\textctn{}{ȵ}
\DeclareDocumentCommand\textctscj{}{\symbol{"A7B2}}
% \DeclareDocumentCommand\textctstretchc{}{???}
% \DeclareDocumentCommand\textctstretchcvar{}{???}
\DeclareDocumentCommand\textctt{}{ȶ}
\DeclareDocumentCommand\textcttctclig{}{ʨ}
% \DeclareDocumentCommand\textctturnt{}{???}
\DeclareDocumentCommand\textctwo{}{ƻ}
% textctyogh kept for backwards compatability
\DeclareDocumentCommand\textctyogh{}{\textctezh}

% textd… - texti…
\DeclareDocumentCommand\textdblig{}{ȸ}
\DeclareDocumentCommand\textdctzlig{}{ʥ}
% textdyoghlig kept for backwards compatability
\DeclareDocumentCommand\textdezhlig{}{ʤ}
% \DeclareDocumentCommand\textdotacute{m}{???}
\DeclareDocumentCommand\textdotbreve{m}{#1\symbol{"0310}}
\DeclareDocumentCommand\textdottedtilde{m}{#1\symbol{"034B}} % extIPA
\DeclareDocumentCommand\textdoublebridge{}{ʭ} % not in tipa
% \DeclareDocumentCommand\textdoublepipevar{}{???}
\DeclareDocumentCommand\textdoublew{}{ʬ} % not in tipa
\DeclareDocumentCommand\textdownfullarrow{}{↓} % extIPA
\DeclareDocumentCommand\textdzlig{}{ʣ}
% \DeclareDocumentCommand\textdoublebaresh{}{???}
% \DeclareDocumentCommand\textdoublebarpipevar{}{???}
% \DeclareDocumentCommand\textdoublebarslash{}{???}
\DeclareDocumentCommand\textdoublevbaraccent{m}{#1\symbol{"030E}}
% kept for backwards compatability
\DeclareDocumentCommand\textdyoghlig{}{\textdezhlig}
\DeclareDocumentCommand\textemptyset{}{∅} % kept for backwards compatability
\DeclareDocumentCommand\textequals{}{\symbol{"02ED}}
\DeclareDocumentCommand\textfenglig{}{ʩ}
\DeclareDocumentCommand\textfemale{}{♀}
% \DeclareDocumentCommand\textfrbarn{}{???}
% \DeclareDocumentCommand\textfrhookd{}{???}
% \DeclareDocumentCommand\textfrhookdvar{}{???}
% \DeclareDocumentCommand\textfrhookt{}{???}
% \DeclareDocumentCommand\textfrtailgamma{}{???}
% \DeclareDocumentCommand\textglotstopvari{m}{???}
% \DeclareDocumentCommand\textglotstopvarii{m}{???}
% \DeclareDocumentCommand\textglotstopvariii{m}{???}
% \DeclareDocumentCommand\textgravedot{m}{#1\symbol{"0300}\symbol{"02D9}}
\DeclareDocumentCommand\textgravemacron{m}{\`{\={#1}}}
\DeclareDocumentCommand\textgrgamma{}{γ}
\DeclareDocumentCommand\texthardsign{}{ъ}
% \DeclareDocumentCommand\texthooktop{}{???}
% \DeclareDocumentCommand\texthtbardotlessjvar{}{???}
\DeclareDocumentCommand\texthtc{}{ƈ}
\DeclareDocumentCommand\texthtk{}{ƙ}
\DeclareDocumentCommand\texthtp{}{ƥ}
\DeclareDocumentCommand\texthtq{}{ʠ}
\DeclareDocumentCommand\texthtrtaild{}{ᶑ}
\DeclareDocumentCommand\texthtt{}{ƭ}
\DeclareDocumentCommand\texthvlig{}{ƕ}
\DeclareDocumentCommand\textiota{}{ɩ}
\DeclareDocumentCommand\textinvexclamationmark{}{\textexclamdown} % not in tipa
\DeclareDocumentCommand\textinvglotstop{}{ʖ}
% \DeclareDocumentCommand\textinvsca{}{???}
% \DeclareDocumentCommand\textinvscripta{}{???}

% textl… - textp…
\DeclareDocumentCommand\textlambda{}{λ}
\DeclareDocumentCommand\textlfishhookrlig{}{λ}
\DeclareDocumentCommand\textlonglegr{}{ɼ}
\DeclareDocumentCommand\textlptr{}{\symbol{"1DFE}}
\DeclareDocumentCommand\textlhookb{}{ᶀ} % not in tipa
\DeclareDocumentCommand\textlhookc{}{\symbol{"A794}} % not in tipa
\DeclareDocumentCommand\textlhookd{}{ᶁ} % not in tipa
\DeclareDocumentCommand\textlhookd{}{ᶁ} % not in tipa
\DeclareDocumentCommand\textlhookesh{}{ᶋ} % not in tipa
\DeclareDocumentCommand\textlhookf{}{ᶂ} % not in tipa
\DeclareDocumentCommand\textlhookfour{}{ꜭ}
\DeclareDocumentCommand\textlhookg{}{ᶃ} % not in tipa
\DeclareDocumentCommand\textlhookh{}{\symbol{"A795}} % not in tipa
\DeclareDocumentCommand\textlhookk{}{ᶄ} % not in tipa
\DeclareDocumentCommand\textlhookl{}{ᶅ} % not in tipa
\DeclareDocumentCommand\textlhookm{}{ᶆ} % not in tipa
\DeclareDocumentCommand\textlhookn{}{ᶇ} % not in tipa
\DeclareDocumentCommand\textlhookp{}{ᶈ} % not in tipa
\DeclareDocumentCommand\textlhookr{}{ᶉ} % not in tipa
\DeclareDocumentCommand\textlhooks{}{ᶊ} % not in tipa
\DeclareDocumentCommand\textlhookt{}{ƫ}
\DeclareDocumentCommand\textlhookv{}{ᶌ} % not in tipa
\DeclareDocumentCommand\textlhookx{}{ᶍ} % not in tipa
\DeclareDocumentCommand\textlhookz{}{ᶎ} % not in tipa
\DeclareDocumentCommand\textlhti{}{ɿ}
% \DeclareDocumentCommand\textlhtlongi{}{???}
\DeclareDocumentCommand\textlhtlongy{}{ʮ}
\DeclareDocumentCommand\textlooptoprevesh{}{ƪ}
\DeclareDocumentCommand\textmodapostrophe{}{\symbol{"02BC}} % not in tipa
\DeclareDocumentCommand\textnrleg{}{ƞ}
% \DeclareDocumentCommand\textObardotlessj{}{???}
\DeclareDocumentCommand\textObullseye{}{☉}
% \DeclareDocumentCommand\textOlezhlig{}{???}
% \DeclareDocumentCommand\textOlyoghlig{}{\textOlezhlig}
\DeclareDocumentCommand\textomega{}{ω}
\DeclareDocumentCommand\textou{}{ȣ} % not in tipa
\DeclareDocumentCommand\textpalhook{}{\symbol{"0321}}
% \DeclareDocumentCommand\textpalhooklong{}{???}
% \DeclareDocumentCommand\textpalhookvar{}{???}
% \DeclareDocumentCommand\textpipevar{}{??}
% already in LaTeX as \k (right-aligned) and \textogonekcentered (centered)
\DeclareDocumentCommand\textpolhook{m}{\k{#1}}
\DeclareDocumentCommand\textqplig{}{ȹ}

% textr… - texts…
\DeclareDocumentCommand\textraiseglotstop{}{ˀ}
\DeclareDocumentCommand\textrectangle{}{\symbol{"2E0B}}
\DeclareDocumentCommand\textrevapostrophe{}{\symbol{"2018}}
\DeclareDocumentCommand\textrevsce{}{ⱻ}
\DeclareDocumentCommand\textrevscn{}{ᴎ} % UPA. Not in tipa
% \DeclareDocumentCommand\textrevscl{}{???}
\DeclareDocumentCommand\textrevscr{}{я}
% textrevyogh kept for backwards compatability
\DeclareDocumentCommand\textrevezh{}{ƹ}
% \DeclareDocumentCommand\textrevpolhook{m}{???}
% kept for backwards compatability
\DeclareDocumentCommand\textrevyogh{}{\textrevezh}
\DeclareDocumentCommand\textrho{}{ρ} % not in tipa
\DeclareDocumentCommand\textrhook{}{\symbol{"0322}}
% \DeclareDocumentCommand\textrhooklong{}{???}
\DeclareDocumentCommand\textrhooka{}{ᶏ}
\DeclareDocumentCommand\textrhookscripta{}{ᶐ} % not in tipa
\DeclareDocumentCommand\textrhooke{}{ᶒ}
\DeclareDocumentCommand\textrhookepsilon{}{ᶓ}
\DeclareDocumentCommand\textrhookesh{}{ᶘ}
\DeclareDocumentCommand\textrhookezh{}{ᶚ}
\DeclareDocumentCommand\textrhooklowrevepsilon{}{ᶔ}
\DeclareDocumentCommand\textrhookg{}{ᶃ}
\DeclareDocumentCommand\textrhooki{}{ᶖ} % not in tipa
\DeclareDocumentCommand\textrhookopeno{}{ᶗ}
\DeclareDocumentCommand\textrhooku{}{ᶙ}
\DeclareDocumentCommand\textrhoticity{}{\symbol{"02DE}}
\DeclareDocumentCommand\textroundcap{m}{#1\symbol{"0311}}
\DeclareDocumentCommand\textrptr{}{\symbol{"0350}}
\DeclareDocumentCommand\textrtailbeltl{}{ꞎ} % not in tipa
% \DeclareDocumentCommand\textrtailhth{}{???}
\DeclareDocumentCommand\textrtailq{}{ɋ} % not in tipa
\DeclareDocumentCommand\textsca{}{ᴀ}
% \DeclareDocumentCommand\textscaolig{}{???}
\DeclareDocumentCommand\textsca{}{ᴄ}
\DeclareDocumentCommand\textscd{}{ᴅ}
% \DeclareDocumentCommand\textscdelta{}{???}
\DeclareDocumentCommand\textsce{}{ᴇ}
\DeclareDocumentCommand\textscf{}{ꜰ}
\DeclareDocumentCommand\textscj{}{ᴊ}
\DeclareDocumentCommand\textsck{}{ᴋ}
\DeclareDocumentCommand\textscm{}{ᴍ}
\DeclareDocumentCommand\textsco{}{ᴏ}
\DeclareDocumentCommand\textscp{}{ᴘ}
\DeclareDocumentCommand\textscomega{}{\symbol{"AB65}}
\DeclareDocumentCommand\textscq{}{\symbol{"A7AF}}
\DeclareDocumentCommand\textscs{}{ꜱ}
\DeclareDocumentCommand\textsct{}{ᴛ}
\DeclareDocumentCommand\textscu{}{ᴜ}
\DeclareDocumentCommand\textscv{}{ᴠ}
\DeclareDocumentCommand\textscz{}{ᴢ}
\DeclareDocumentCommand\textsoftsign{}{ь}
\DeclareDocumentCommand\textsstretchc{}{ʗ}
\DeclareDocumentCommand\textsubacute{m}{#1\symbol{"0317}}
\DeclareDocumentCommand\textsubcircum{m}{#1\symbol{"032D}}
\DeclareDocumentCommand\textsubgrave{m}{#1\symbol{"0316}}
\DeclareDocumentCommand\textsuperscriptgamma{}{ˠ} % in tipa mit \super
\DeclareDocumentCommand\textsuperscripth{}{ʰ} % in tipa mit \super
\DeclareDocumentCommand\textsuperscriptl{}{ˡ} % in tipa mit \super
\DeclareDocumentCommand\textsuperscriptn{}{ⁿ} % in tipa mit \super
\DeclareDocumentCommand\textsuperscriptj{}{ʲ} % in tipa mit \super
\DeclareDocumentCommand\textsuperscriptrevglotstop{}{ˤ} % in tipa mit \super
\DeclareDocumentCommand\textsuperscriptw{}{ʷ} % in tipa mit \super
\DeclareDocumentCommand\textswashtails{}{ȿ}

% textt… -
\DeclareDocumentCommand\texttctclig{}{ʨ}
\DeclareDocumentCommand\texttslig{}{ʦ}
\DeclareDocumentCommand\textteshlig{}{ʧ}
\DeclareDocumentCommand\texttildedot{m}{\~{\.{#1}}}
\DeclareDocumentCommand\textthorn{}{þ}
% \DeclareDocumentCommand\textthornvari{}{þ}
% \DeclareDocumentCommand\textthornvarii{}{þ}
% \DeclareDocumentCommand\textthornvariii{}{þ}
% \DeclareDocumentCommand\textthornvariv{}{þ}
\DeclareDocumentCommand\textturncelig{}{\symbol{"AB62}}
\DeclareDocumentCommand\textturndelta{}{ƍ} % not in tipa
% \DeclareDocumentCommand\textturnglotstop{}{???}
\DeclareDocumentCommand\textturnk{}{ʞ}
% \DeclareDocumentCommand\textturnsck{}{???}
% \DeclareDocumentCommand\textturnscu{}{???}
\DeclareDocumentCommand\textturnt{}{ʇ}
\DeclareDocumentCommand\textturnthree{}{ꜫ}
\DeclareDocumentCommand\textturntwo{}{ꜫ}
\DeclareDocumentCommand\textsigma{}{σ}
\DeclareDocumentCommand\textuncrfemale{}{⚲}
\DeclareDocumentCommand\textupfullarrow{}{↑} % extIPA
\DeclareDocumentCommand\textvbaraccent{m}{#1\symbol{"030D}}
\DeclareDocumentCommand\textvibyi{}{ʅ}
\DeclareDocumentCommand\textvibyy{}{ʯ}
% \DeclareDocumentCommand\textraisevibyi{}{???}
\DeclareDocumentCommand\textwynn{}{ƿ}

% aliases
\DeclareDocumentCommand\super{m}{\textsuperscript{#1}}

\DeclareDocumentCommand\tone{m}{\textsuperscript{#1}}

%%%%%%%%%%%%%
% functions %
%%%%%%%%%%%%%

% place before last item in token list (for top- and bottomtiebar)
\cs_new:Npn \utfipa_place_before_last_in:nn #1#2 {
  \tl_set:Nx \l__utfipa_newchar_tl {#2}
  \tl_set:Nx \l__utfipa_input_tl {\tl_reverse:n {#1}}
  \tl_set:Nx \l__utfipa_last_tl {\tl_head:N \l__utfipa_input_tl}
  \tl_set:Nx \l__utfipa_temp_tl {\tl_tail:N \l__utfipa_input_tl}
  \tl_set:Nx \l__utfipa_output_tl {\tl_reverse:n \l__utfipa_temp_tl}
  \tl_put_right:Nn \l__utfipa_output_tl \l__utfipa_newchar_tl
  \tl_put_right:Nn \l__utfipa_output_tl \l__utfipa_last_tl

  \tl_use:N \l__utfipa_output_tl
}

\ExplSyntaxOff
